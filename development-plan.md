# Terraria コレクション管理Webアプリ 開発手順書

## 📋 開発フロー概要

テラリアコレクションマネージャーアプリを段階的に開発するための詳細な手順書です。

---

## 🎯 第1段階：設計・企画（完了済み）

### ✅ 1. 要件定義とガイドラインの理解確認
- [x] requirements.md の確認と更新
- [x] CLAUDE.md の確認
- [x] 追加要件のヒアリングと反映

### ✅ 2. アプリの主要機能定義
- [x] ダッシュボード機能の詳細化
- [x] カテゴリ別表示仕様の確定
- [x] 詳細モーダル機能の定義
- [x] 進行状況バー仕様の確定

### ✅ 3. 技術スタック選定
- [x] フロントエンド: Next.js (React)
- [x] スタイリング: Tailwind CSS
- [x] 状態管理: React Hooks
- [x] データ格納: ローカルストレージ
- [x] UIデザイン: v0 (Vercel)

---

## 🏗️ 第2段階：アーキテクチャ設計

### ⏳ 4. アプリケーションアーキテクチャを設計する
- [ ] コンポーネント構成の設計
- [ ] 状態管理アーキテクチャの設計
- [ ] ディレクトリ構造の設計
- [ ] データフローの設計

### ⏳ 5. データベーススキーマを設計する
- [ ] アイテムデータ構造の設計
- [ ] カテゴリ分類システムの設計
- [ ] ローカルストレージ保存形式の設計
- [ ] 初期データセットの構造設計

---

## 🚀 第3段階：プロジェクトセットアップ

### ⏳ 6. プロジェクトのセットアップとディレクトリ構造を作成する
- [ ] Next.js プロジェクトの初期化
- [ ] 必要な依存関係のインストール
- [ ] ディレクトリ構造の作成
- [ ] 基本設定ファイルの作成
- [ ] Git リポジトリの初期化

**作成予定のディレクトリ構造:**
```
src/
├── components/          # UIコンポーネント
│   ├── dashboard/      # ダッシュボード関連
│   ├── modal/          # モーダル関連
│   ├── common/         # 共通コンポーネント
│   └── ui/             # v0生成コンポーネント
├── hooks/              # カスタムフック
├── utils/              # ユーティリティ関数
├── types/              # TypeScript型定義
├── data/               # 初期データ
└── styles/             # スタイル関連
public/
└── assets/             # Terrariaアセット
    └── icons/          # アイテムアイコン
```

---

## 💾 第4段階：データ基盤構築

### ⏳ 7. コアとなるデータモデルを実装する
- [ ] TypeScript型定義の作成
- [ ] アイテムデータモデルの実装
- [ ] カテゴリシステムの実装
- [ ] 初期データセットの作成（JSON）
- [ ] Terrariaアセットの準備

**データモデル例:**
```typescript
interface Item {
  id: string;
  name: string;
  type: 'weapon' | 'armor' | 'accessory' | 'npc' | 'boss';
  category: string;           // 例: '剣', '頭', etc.
  subCategory?: string;       // 例: 'ショートソード', etc.
  iconPath: string;
  acquisition: string[];      // 入手方法
  stats?: ItemStats;
  description?: string;
}
```

---

## 🎨 第5段階：UIデザイン作成

### ⏳ 8. v0でUIデザインを作成する
- [ ] ダッシュボード画面のデザイン
- [ ] アイテム一覧コンポーネントのデザイン
- [ ] カテゴリフィルターのデザイン
- [ ] 詳細モーダルのデザイン
- [ ] 進行状況バーのデザイン
- [ ] レスポンシブデザインの検討

**v0での作成対象:**
- メイン ダッシュボード レイアウト
- アイテム カード コンポーネント
- カテゴリ ナビゲーション
- モーダル ダイアログ
- プログレス バー コンポーネント

---

## ⚙️ 第6段階：機能実装

### ⏳ 9. 基本的なCRUD操作を実装する
- [ ] ローカルストレージ操作の実装
- [ ] アイテム状態管理の実装
- [ ] データの取得・更新機能
- [ ] 進行状況計算ロジック
- [ ] カテゴリフィルタリング機能

### ⏳ 10. ユーザーインターフェースを実装する
- [ ] v0コンポーネントの統合
- [ ] 状態管理との連携
- [ ] インタラクション機能の実装
- [ ] アニメーション・トランジション
- [ ] エラーハンドリング

---

## 🧪 第7段階：品質保証

### ⏳ 11. テストスイートを作成する
- [ ] ユニットテストの作成
- [ ] コンポーネントテストの作成
- [ ] 統合テストの作成
- [ ] E2Eテストの検討
- [ ] テストカバレッジの確認

---

## 📊 第8段階：実際のデータ実装

### ⏳ 12. Terrariaの実際のデータ収集と実装
- [ ] Terrariaの公式データソースの調査
- [ ] アイテムデータの収集（武器、防具、アクセサリー）
- [ ] NPCデータの収集（居住条件、サービス、幸福度）
- [ ] ボスデータの収集（HP、ドロップアイテム、召喚条件）
- [ ] 公式アイコン・画像アセットの収集

### ⏳ 13. データ構造の最適化と実装
- [ ] 実際のデータに合わせた型定義の調整
- [ ] サンプルデータから実際のデータへの移行
- [ ] カテゴリ分類システムの実データ対応
- [ ] アイテム数の大幅増加に対するパフォーマンス最適化
- [ ] データ検証とバリデーションの実装

### ⏳ 14. アセット管理とパフォーマンス
- [ ] 公式アイコンの最適化（サイズ、フォーマット）
- [ ] 画像の遅延読み込み（Next.js Image）の実装
- [ ] アセットのCDN配信検討
- [ ] 大量データの仮想化（Virtual Scrolling）検討
- [ ] 検索・フィルタリング機能の高速化

**データ実装の注意事項:**
- **法的配慮**: Terrariaの著作権を尊重し、公式アセットの適切な使用
- **データソース**: 公式Wiki、ゲームファイル、コミュニティAPIの活用
- **更新対応**: ゲームアップデートに対応できるデータ管理システム
- **パフォーマンス**: 1000+ アイテムでも快適に動作する設計

---

## 📝 開発時の注意事項

### **コーディング規則**
- CLAUDE.md の開発ガイドラインを厳守
- TypeScript を使用した型安全な開発
- コンポーネント指向の設計
- レスポンシブデザインの考慮

### **データ管理**
- ローカルストレージのキー名: `terraria-collection-status`
- 公式アセットのみ使用（自作アイコン禁止）
- JSON形式でのデータ管理

### **UI/UX原則**
- シンプルで直感的な操作
- 所持アイテム: カラー表示
- 未所持アイテム: グレーアウト
- 明確な視覚フィードバック

---

## 🔄 開発サイクル

各段階は以下のサイクルで進行します：

1. **計画** → 2. **実装** → 3. **テスト** → 4. **レビュー** → 5. **次段階**

現在の進行状況は TodoList で管理し、各段階完了後に次段階へ進みます。

---

*最終更新: 2025-07-06*